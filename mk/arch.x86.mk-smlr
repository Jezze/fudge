AR=i386-unknown-elf-ar rcs
AS=i386-unknown-elf-as -c -o
LD=i386-unknown-elf-ld -static -o
ASM=smlrcc -c -no-leading-underscore
CC=smlrcc -S -no-leading-underscore
PP=smlrpp -Iinclude -Ilib -Isrc

%.i: %.c
	@echo PP $@
	@$(PP) $^ > $@

%.asm: %.i
	@echo CC $@
	@$(CC) $^

%.o: %.asm
	@echo ASM $@
	@$(ASM) $^

%.o: %.s
	@echo AS $@
	@$(AS) $@ $^
