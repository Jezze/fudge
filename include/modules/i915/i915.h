#ifndef MODULES_I915_H
#define MODULES_I915_H

#define I915_DPLLA_CTRL       0x06014

#define I915_DISPLAYA_HTOTAL  0x60000
#define I915_DISPLAYA_HBLANK  0x60004
#define I915_DISPLAYA_HSYNC   0x60008
#define I915_DISPLAYA_VTOTAL  0x6000C
#define I915_DISPLAYA_VBLANK  0x60010
#define I915_DISPLAYA_VSYNC   0x60014
#define I915_DISPLAYA_PIPESRC 0x6001C

#define I915_DISPLAYB_HTOTAL  0x61000
#define I915_DISPLAYB_HBLANK  0x61004
#define I915_DISPLAYB_HSYNC   0x61008
#define I915_DISPLAYB_VTOTAL  0x6100C
#define I915_DISPLAYB_VBLANK  0x61010
#define I915_DISPLAYB_VSYNC   0x61014
#define I915_DISPLAYB_PIPESRC 0x6101C

#define I915_PIPEA_DSL        0x70000
#define I915_PIPEA_CONF       0x70008
#define I915_PIPEA_STAT       0x70024

#define I915_DISPLAYA_CTRL    0x70180
#define I915_DISPLAYA_ADDR    0x70184
#define I915_DISPLAYA_SIZE    0x70190
#define I915_DISPLAYA_SURF    0x7019C

#define I915_PIPEB_DSL        0x71000
#define I915_PIPEB_CONF       0x71008
#define I915_PIPEB_STAT       0x71024

#define I915_DISPLAYB_CTRL    0x71180
#define I915_DISPLAYB_ADDR    0x71184
#define I915_DISPLAYB_SIZE    0x71190
#define I915_DISPLAYB_SURF    0x7119C

#define I915_DPLL_CTRL_DIVIDE1         (1 << 16)
#define I915_DPLL_CTRL_DIVIDE2         (2 << 16)
#define I915_DPLL_CTRL_DIVIDE3         (4 << 16)
#define I915_DPLL_CTRL_DIVIDE4         (8 << 16)
#define I915_DPLL_CTRL_DISABLE_VGA     (1 << 28)
#define I915_DPLL_CTRL_ENABLE_VCO      (1 << 31)

#define I915_DISPLAY_CTRL_8BPP         (0x2 << 26)
#define I915_DISPLAY_CTRL_16BPP        (0x5 << 26)
#define I915_DISPLAY_CTRL_32BPP        (0x7 << 26)
#define I915_DISPLAY_CTRL_ENABLE_GAMMA (1 << 30)
#define I915_DISPLAY_CTRL_ENABLE_PLANE (1 << 31)

#define I915_PIPE_CONF_STATE           (1 << 30)
#define I915_PIPE_CONF_ENABLE          (1 << 31)

#define I915_PIPE_STAT_STATUS_VBLANK   (1 << 1)
#define I915_PIPE_STAT_STATUS_VSYNC    (1 << 9)

#define I915_DRIVER_TYPE 0x0915

struct i915_driver
{

    struct modules_driver base;

};

void i915_driver_init(struct i915_driver *driver);

#endif

